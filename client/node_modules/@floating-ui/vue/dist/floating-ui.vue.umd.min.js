!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/dom"),require("vue-demi"),require("@floating-ui/utils/dom")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/dom","vue-demi","@floating-ui/utils/dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIVue={},e.FloatingUIDOM,e.VueDemi,e.FloatingUIUtilsDOM)}(this,(function(e,t,n,o){"use strict";function u(e){if(function(e){return null!=e&&"object"==typeof e&&"$el"in e}(e)){const t=e.$el;return o.isNode(t)&&"#comment"===o.getNodeName(t)?null:t}return e}function l(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r(e,t){const n=l(e);return Math.round(t*n)/n}Object.defineProperty(e,"autoPlacement",{enumerable:!0,get:function(){return t.autoPlacement}}),Object.defineProperty(e,"autoUpdate",{enumerable:!0,get:function(){return t.autoUpdate}}),Object.defineProperty(e,"computePosition",{enumerable:!0,get:function(){return t.computePosition}}),Object.defineProperty(e,"detectOverflow",{enumerable:!0,get:function(){return t.detectOverflow}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return t.flip}}),Object.defineProperty(e,"getOverflowAncestors",{enumerable:!0,get:function(){return t.getOverflowAncestors}}),Object.defineProperty(e,"hide",{enumerable:!0,get:function(){return t.hide}}),Object.defineProperty(e,"inline",{enumerable:!0,get:function(){return t.inline}}),Object.defineProperty(e,"limitShift",{enumerable:!0,get:function(){return t.limitShift}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}}),Object.defineProperty(e,"platform",{enumerable:!0,get:function(){return t.platform}}),Object.defineProperty(e,"shift",{enumerable:!0,get:function(){return t.shift}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return t.size}}),e.arrow=function(e){return{name:"arrow",options:e,fn(o){const l=u(n.toValue(e.element));return null==l?{}:t.arrow({element:l,padding:e.padding}).fn(o)}}},e.useFloating=function(e,o,a){void 0===a&&(a={});const i=a.whileElementsMounted,f=n.computed((()=>{var e;return null==(e=n.toValue(a.open))||e})),c=n.computed((()=>n.toValue(a.middleware))),d=n.computed((()=>{var e;return null!=(e=n.toValue(a.placement))?e:"bottom"})),s=n.computed((()=>{var e;return null!=(e=n.toValue(a.strategy))?e:"absolute"})),p=n.computed((()=>{var e;return null==(e=n.toValue(a.transform))||e})),m=n.computed((()=>u(e.value))),v=n.computed((()=>u(o.value))),y=n.ref(0),g=n.ref(0),b=n.ref(s.value),w=n.ref(d.value),h=n.shallowRef({}),P=n.ref(!1),O=n.computed((()=>{const e={position:b.value,left:"0",top:"0"};if(!v.value)return e;const t=r(v.value,y.value),n=r(v.value,g.value);return p.value?{...e,transform:"translate("+t+"px, "+n+"px)",...l(v.value)>=1.5&&{willChange:"transform"}}:{position:b.value,left:t+"px",top:n+"px"}}));let j;function x(){null!=m.value&&null!=v.value&&t.computePosition(m.value,v.value,{middleware:c.value,placement:d.value,strategy:s.value}).then((e=>{y.value=e.x,g.value=e.y,b.value=e.strategy,w.value=e.placement,h.value=e.middlewareData,P.value=!0}))}function V(){"function"==typeof j&&(j(),j=void 0)}return n.watch([c,d,s],x,{flush:"sync"}),n.watch([m,v],(function(){V(),void 0!==i?null==m.value||null==v.value||(j=i(m.value,v.value,x)):x()}),{flush:"sync"}),n.watch(f,(function(){f.value||(P.value=!1)}),{flush:"sync"}),n.getCurrentScope()&&n.onScopeDispose(V),{x:n.shallowReadonly(y),y:n.shallowReadonly(g),strategy:n.shallowReadonly(b),placement:n.shallowReadonly(w),middlewareData:n.shallowReadonly(h),isPositioned:n.shallowReadonly(P),floatingStyles:O,update:x}}}));
